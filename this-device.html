<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>YHAZ â€“ Device Info</title>
<style>
  body {
    font-family: monospace;
    background-color: #f5f5f5; /* light bg */
    color: #111;               /* light text */
    margin: 0;
    padding: 1rem;
    line-height: 1.5;
    transition: background 0.3s, color 0.3s;
  }

  h1 {
    text-align: center;
    color: #ff6f61; /* accent colore piÃ¹ caldo */
    margin-bottom: 1.5rem;
  }

  ul {
    list-style: none;
    padding: 0;
    max-width: 800px;
    margin: auto;
  }

  li {
    background: #e0e0e0;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 0.7rem;
    margin-bottom: 0.6rem;
    transition: background 0.3s, color 0.3s;
    color: #111;
  }

  li:hover {
    background: #ffebd6;
  }

  /* Pulsanti */
  .toggle-theme, .export-btn {
    position: fixed;
    top: 1rem;
    padding: 0.4rem 0.8rem;
    border: 1px solid #888;
    background: #ff6f61;
    color: #fff;
    font-family: monospace;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.3s, color 0.3s;
  }

  .toggle-theme { right: 1rem; }
  .export-btn { left: 1rem; }

  .toggle-theme:hover, .export-btn:hover {
    background-color: #ff8c42;
    color: #000;
    border-color: #ff8c42;
  }

  /* DARK MODE */
  body.dark {
    background-color: #111;  /* dark bg */
    color: #0f0;             /* dark text verde */
  }

  body.dark li {
    background: #1a1a1a;
    border-color: #333;
    color: #0f0;
  }

  body.dark li:hover {
    background: #333;
  }

  body.dark .toggle-theme, body.dark .export-btn {
    background: #0f0;
    color: #111;
    border-color: #0f0;
  }

  body.dark .toggle-theme:hover, body.dark .export-btn:hover {
    background: #a0ffa0;
    color: #111;
    border-color: #a0ffa0;
  }
</style>
</head>
<body>

<h1>YHAZ â€“ This Device</h1>
<ul id="infoList"></ul>

<button class="toggle-theme" onclick="toggleTheme()">ðŸŒ“</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
const infoList = document.getElementById('infoList');
const data = {};

function toggleTheme() {
  document.body.classList.toggle('dark');
}

function addItem(label, value) {
  data[label] = value;
  const li = document.createElement('li');
  li.textContent = `${label}: ${value}`;
  infoList.appendChild(li);
}

// Funzioni info (system, battery, features, network, geolocation)
function getSystemInfo() {
  const ua = navigator.userAgent;
  const deviceType = /Mobi|Android/i.test(ua) ? 'Mobile' : 'Desktop';
  const os = /Windows/i.test(ua) ? 'Windows' :
             /Mac/i.test(ua) ? 'macOS' :
             /Linux/i.test(ua) ? 'Linux' :
             /Android/i.test(ua) ? 'Android' :
             /iPhone|iPad/i.test(ua) ? 'iOS' : 'Sconosciuto';
  const browser = /Edg/i.test(ua) ? 'Edge' :
                  /Chrome/i.test(ua) ? 'Chrome' :
                  /Safari/i.test(ua) && !/Chrome/i.test(ua) ? 'Safari' :
                  /Firefox/i.test(ua) ? 'Firefox' : 'Sconosciuto';

  addItem("Sistema operativo", os);
  addItem("Tipo dispositivo", deviceType);
  addItem("Browser", browser);
  addItem("User Agent", ua);
  addItem("Piattaforma", navigator.platform || "N/A");
  addItem("Lingua", navigator.language);
  addItem("Lingue preferite", navigator.languages.join(", "));
  addItem("Fuso orario", Intl.DateTimeFormat().resolvedOptions().timeZone);
  addItem("Offset UTC", new Date().getTimezoneOffset());
  addItem("Risoluzione schermo", `${window.screen.width} x ${window.screen.height}`);
  addItem("Pixel Ratio", window.devicePixelRatio);
  addItem("Online", navigator.onLine ? "SÃ¬" : "No");
  addItem("RAM (stimata)", navigator.deviceMemory ? `${navigator.deviceMemory} GB` : "Non disponibile");
  addItem("CPU Logical Processors", navigator.hardwareConcurrency || "Non disponibile");
  addItem("Cookies abilitati", navigator.cookieEnabled ? "SÃ¬" : "No");
  addItem("JavaScript abilitato", "SÃ¬");
  addItem("Touch support", 'ontouchstart' in window ? "SÃ¬" : "No");
}

function getBatteryInfo() {
  if (!navigator.getBattery) { addItem("Batteria", "Non supportata"); return; }
  navigator.getBattery().then(battery => {
    addItem("Batteria livello", `${Math.round(battery.level * 100)}%`);
    addItem("In carica", battery.charging ? "SÃ¬" : "No");
  });
}

function getWebFeatures() {
  addItem("WebGL support", !!window.WebGLRenderingContext ? "SÃ¬" : "No");
  addItem("WebRTC support", !!navigator.mediaDevices ? "SÃ¬" : "No");
  addItem("AudioContext support", !!window.AudioContext || !!window.webkitAudioContext ? "SÃ¬" : "No");
  addItem("Vibration support", 'vibrate' in navigator ? "SÃ¬" : "No");
}

function getNetworkInfo() {
  const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
  if (conn) {
    addItem("Tipo rete", conn.effectiveType);
    addItem("Downlink stimato", `${conn.downlink} Mbps`);
    addItem("Risparmio dati", conn.saveData ? "Attivo" : "No");
  } else { addItem("Info rete", "Non disponibile"); }
}

function getGeoLocation() {
  if (!navigator.geolocation) { addItem("Geolocalizzazione", "Non supportata"); return; }
  navigator.geolocation.getCurrentPosition(
    pos => {
      const coords = pos.coords;
      addItem("Latitudine", coords.latitude.toFixed(5));
      addItem("Longitudine", coords.longitude.toFixed(5));
      addItem("Precisione (m)", coords.accuracy);
    },
    err => { addItem("Geolocalizzazione", "Negata dall'utente"); },
    { timeout: 5000 }
  );
}

// Esecuzione
getSystemInfo();
getBatteryInfo();
getWebFeatures();
getNetworkInfo();
getGeoLocation();
</script>
</body>
</html>
